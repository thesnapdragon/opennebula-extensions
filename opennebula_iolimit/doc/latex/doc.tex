\hypertarget{doc_def}{}\section{GLOBAL DEFINITIONS}\label{doc_def}
COMMON: OpenNebula's helper scripts, used for log functions \par


Example: \par
 
\begin{DoxyCode}
 COMMON='/var/tmp/one/scripts_common.sh'
\end{DoxyCode}
 DEVICEDIR: directory where the devices were mounted \par


Example: \par
 
\begin{DoxyCode}
 DEVICEDIR='/dev/shared_lvm'
\end{DoxyCode}
 CGROUP: path to cgroup directory \par


Example: \par
 
\begin{DoxyCode}
 CGROUP='/cgroup'
\end{DoxyCode}
\hypertarget{doc_func}{}\section{FUNCTIONS}\label{doc_func}
{\bfseries function init():} check if \$DEVICEDIR is readable \par


{\bfseries function read\_\-dom():} read DOM element value \par


{\bfseries function get\_\-element():} get DOM element value from DOM elements 
\begin{DoxyParams}{Parameters}
\item[\mbox{\tt[in]} {\em entity}]DOM element \end{DoxyParams}
\begin{DoxyReturn}{Returns}
DOM element value
\end{DoxyReturn}
{\bfseries function decodebase64():} decode base64 encoded text 
\begin{DoxyParams}{Parameters}
\item[\mbox{\tt[in]} {\em text}]base64 encoded text\end{DoxyParams}
{\bfseries function get\_\-numbers():} get major and minor id of the device, and save cgroup rules in a tempfile 
\begin{DoxyParams}{Parameters}
\item[\mbox{\tt[in]} {\em id}]virtual machine's ID \item[\mbox{\tt[in]} {\em iolimit}]IO limit value from virtual machine's template\end{DoxyParams}
{\bfseries function cgroup\_\-setup():} mount cgroup's block IO controller, and set it up

{\bfseries function main():} main function 
\begin{DoxyParams}{Parameters}
\item[\mbox{\tt[in]} {\em encoded\_\-template}]base64 encoded template xml \end{DoxyParams}
